Machine learning is increasingly adopted by the manufacturing industry. For instance, classification techniques may be used in quality control tasks, i.e., to help domain experts identify the cause of quality issues of defective products. However, real-world data often imply a set of analytical challenges, which lead to a reduced classification performance. Major challenges are a high degree of multi-class imbalance within data and a heterogeneous feature space that arises from the variety of underlying products. This paper considers such a challenging use case in the area of End-of-Line testing, i.e., the final functional test of complex products. Existing solutions to classification or data pre-processing only address individual analytical challenges in isolation. The major contribution of this paper is a novel classification system that explicitly addresses both challenges of multi-class imbalance and heterogeneous feature space together. This system exploits domain knowledge, e.g., from a product hierarchy describing all product variants and their relationships to systematically prepare the training data. Based on a thorough experimental evaluation on real-world data, we show that our classification system outperforms any other classification technique in terms of accuracy. Furthermore, we are able to reduce the number of rework attempts required to solve a quality issue in End-of-Line testing.